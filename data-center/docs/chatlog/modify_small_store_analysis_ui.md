# 小店活动分析页面UI修改记录

## 修改时间
2025年1月21日

## 修改概述
对 `SmallStoreActivityAnalysis.tsx` 文件进行UI优化，主要包括删除销售额周内占比、增加指标卡片和修改表格列名。

## 具体修改内容

### 1. 删除页面中时段分析的销售额周内占比柱状图
- **位置**: 第1147-1175行左右
- **修改内容**: 完全删除了页面时段分析模块中的销售额周内占比柱状图部分
- **影响**: 简化了页面展示，去除了冗余的周内占比信息

### 2. 删除小店列表趋势模态窗中时段分析的销售额周内占比
- **位置**: 第1353-1380行左右（模态窗内）
- **修改内容**: 删除了模态窗中时段分析的销售额周内占比部分
- **影响**: 模态窗内容更加简洁，专注于关键时段统计信息

### 3. 在模态窗的时段分析上方增加四个指标卡片
- **位置**: 第1203行后新增
- **新增内容**: 
  - 销售额指标卡片（蓝色，显示GMV）
  - 优惠金额指标卡片（绿色，显示discount）
  - 日均订单数指标卡片（紫色，计算usedCount/30）
  - 单均价指标卡片（橙色，显示avgPrice）
- **样式特点**:
  - 使用 `Row` 和 `Col` 布局，每个卡片占6列
  - 使用 `Card` 和 `Statistic` 组件
  - 不同颜色区分不同指标
  - 模态窗高度从500px调整为600px

### 4. 将小店列表表格中的单均价列改为日均订单数列
- **位置**: 第295-302行
- **修改内容**:
  - 列标题从"单均价(元)"改为"日均订单数"
  - 数据展示从 `value.toFixed(1)` 改为 `Math.round(value * 10)`
  - 保持原有的dataIndex和key不变，便于数据绑定

## 技术细节

### 指标卡片实现
```jsx
<Row gutter={16}>
  <Col span={6}>
    <Card size="small" style={{ textAlign: 'center' }}>
      <Statistic
        title="销售额"
        value={selectedRetailerTrend.gmv}
        precision={0}
        prefix="¥"
        valueStyle={{ color: '#1890ff', fontSize: 18 }}
      />
    </Card>
  </Col>
  // ... 其他三个指标卡片
</Row>
```

### 数据转换逻辑
- **日均订单数计算**: `Math.round(selectedRetailerTrend.usedCount / 30)` （模态窗中）
- **表格日均订单数**: `Math.round(value * 10)` （将原单均价数据转换）

## 文件修改统计
- **文件**: `SmallStoreActivityAnalysis.tsx`
- **总行数变化**: 1391行（增加约50行）
- **主要修改区域**:
  - 删除代码: 约60行
  - 新增代码: 约50行
  - 修改代码: 约5行

## 测试结果
- ✅ 页面编译无错误
- ✅ 开发服务器运行正常
- ✅ 浏览器预览无报错
- ✅ UI展示符合预期

## 完成状态
所有要求的修改已完成：
1. ✅ 删除页面中时段分析的销售额周内占比柱状图
2. ✅ 删除小店列表趋势模态窗中时段分析的销售额周内占比
3. ✅ 在模态窗的时段分析上方增加四个指标卡片
4. ✅ 将小店列表表格中的单均价列改为日均订单数列
5. ✅ 测试修改后的页面显示效果

## 备注
- 所有修改保持了原有的数据结构和业务逻辑
- UI风格与现有页面保持一致
- 指标卡片使用了不同颜色以提升视觉效果
- 数据转换采用了合理的计算方式